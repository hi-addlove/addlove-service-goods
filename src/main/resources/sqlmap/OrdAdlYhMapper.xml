<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.addlove.service.goods.dao.OrdAdlYhDao">
  <resultMap id="BaseResultMapHead" type="com.addlove.service.goods.model.OrdAdlYhHeadModel">
    <result column="BILLNO" jdbcType="VARCHAR" property="billNo" />
    <result column="LRDATE" jdbcType="TIMESTAMP" property="lrDate" />
    <result column="USERID" jdbcType="NUMERIC" property="userId" />
    <result column="USERCODE" jdbcType="VARCHAR" property="userCode" />
    <result column="USERNAME" jdbcType="VARCHAR" property="userName" />
    <result column="JZDATE" property="jzDate" jdbcType="TIMESTAMP" />
    <result column="JZRID" property="jzrId" jdbcType="NUMERIC" />
    <result column="JZRCODE" property="jzrCode" jdbcType="VARCHAR" />
    <result column="JZRNAME" property="jzrName" jdbcType="VARCHAR" />
    <result column="JZTYPE" jdbcType="VARCHAR" property="jzType" />
    <result column="RPTDATE" property="rptDate" jdbcType="VARCHAR" />
    <result column="PRNTIMES" property="prnTimes" jdbcType="NUMERIC" />
    <result column="PRNDATE" property="prnDate" jdbcType="TIMESTAMP" />
    <result column="TIMEMARK" property="timeMark" jdbcType="NUMERIC" />
    <result column="YWTYPE" jdbcType="VARCHAR" property="ywType" />
    <result column="YWIOTYPE" jdbcType="VARCHAR" property="ywIoType" />
    <result column="ORGCODE" property="orgCode" jdbcType="VARCHAR" />
    <result column="ORGNAME" property="orgName" jdbcType="VARCHAR" />
    <result column="DEPID" property="depId" jdbcType="NUMERIC" />
    <result column="DEPCODE" property="depCode" jdbcType="VARCHAR" />
    <result column="DEPNAME" property="depName" jdbcType="VARCHAR" />
    <result column="ISURGENT" jdbcType="VARCHAR" property="isUrgent" />
    <result column="ZBORGCODE" jdbcType="VARCHAR" property="zbOrgCode" />
    <result column="ZBORGNAME" jdbcType="VARCHAR" property="zbOrgName" />
    <result column="SDDATE" jdbcType="VARCHAR" property="sdDate" />
    <result column="SHADDR" jdbcType="VARCHAR" property="shAddr" />
    <result column="YHCOUNT" jdbcType="NUMERIC" property="yhCount" />
    <result column="YWSTATUS" jdbcType="VARCHAR" property="ywStatus" />
    <result column="DATASTATUS" jdbcType="VARCHAR" property="dataStatus" />
    <result column="YHTOTAL" jdbcType="NUMERIC" property="yhTotal" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="MODELCODE" jdbcType="VARCHAR" property="modelCode" />
    <result column="YHBC" jdbcType="VARCHAR" property="yhBc" />
  </resultMap>
  
   <resultMap id="BaseResultMapBody" type="com.addlove.service.goods.model.OrdAdlYhBodyModel">
    <result column="BILLNO" jdbcType="VARCHAR" property="billNo" />
    <result column="SERIALNO" jdbcType="NUMERIC" property="serialNo" />
    <result column="PLUID" jdbcType="NUMERIC" property="pluId" />
    <result column="PLUCODE" jdbcType="VARCHAR" property="pluCode" />
    <result column="PLUNAME" jdbcType="VARCHAR" property="pluName" />
    <result column="EXPLUCODE" jdbcType="VARCHAR" property="exPluCode" />
    <result column="EXPLUNAME" jdbcType="VARCHAR" property="exPluName" />
    <result column="BARCODE" jdbcType="VARCHAR" property="barCode" />
    <result column="SPEC" jdbcType="VARCHAR" property="spec" />
    <result column="UNIT" jdbcType="VARCHAR" property="unit" />
    <result column="PACKUNIT" jdbcType="VARCHAR" property="packUnit" />
    <result column="PACKQTY" jdbcType="NUMERIC" property="packQty" />
    <result column="PACKCOUNT" jdbcType="NUMERIC" property="packCount" />
    <result column="SGLCOUNT" jdbcType="NUMERIC" property="sglCount" />
    <result column="YHCOUNT" jdbcType="NUMERIC" property="yhCount" />
    <result column="QRCOUNT" jdbcType="NUMERIC" property="qrCount" />
    <result column="PRICE" jdbcType="NUMERIC" property="price" />
    <result column="STOTAL" jdbcType="NUMERIC" property="sTotal" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="KCCOUNT" jdbcType="NUMERIC" property="kcCount" />
    <result column="MRJHCOUNT" jdbcType="NUMERIC" property="mRJhCount" />
  </resultMap>
  
  <resultMap id="BaseResultMapTemOrg" type="com.addlove.service.goods.model.OrdYhTempletOrgModel" >
    <result column="ORGCODE" property="orgCode" jdbcType="VARCHAR" />
    <result column="MODELCODE" property="modelCode" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="BaseResultMapTemHead" type="com.addlove.service.goods.model.OrdYhTempletHeadModel" >
    <result column="MODELCODE" property="modelCode" jdbcType="VARCHAR" />
    <result column="MODELNAME" property="modelName" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="BaseResultMapTemBody" type="com.addlove.service.goods.model.OrdYhTempletBodyModel" >
    <result column="MODELCODE" property="modelCode" jdbcType="VARCHAR" />
    <result column="PLUID" jdbcType="NUMERIC" property="pluId" />
    <result column="PLUCODE" jdbcType="VARCHAR" property="pluCode" />
    <result column="PLUNAME" jdbcType="VARCHAR" property="pluName" />
    <result column="BARCODE" jdbcType="VARCHAR" property="barCode" />
    <result column="UNIT" jdbcType="VARCHAR" property="unit" />
    <result column="SPEC" jdbcType="VARCHAR" property="spec" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <result column="PRICE" jdbcType="NUMERIC" property="price" />
  </resultMap>
  
  <resultMap id="BaseResultMapTemCycle" type="com.addlove.service.goods.model.OrdYhCycleModel" >
    <result column="ORGCODE" property="orgCode" jdbcType="VARCHAR" />
    <result column="PLUID" jdbcType="NUMERIC" property="pluId" />
    <result column="PLUCODE" jdbcType="VARCHAR" property="pluCode" />
    <result column="PLUNAME" jdbcType="VARCHAR" property="pluName" />
    <result column="DHDAYS" jdbcType="NUMERIC" property="dhDays" />
    <result column="MONDAY" property="monday" jdbcType="VARCHAR" />
    <result column="TUESDAY" property="tuesday" jdbcType="VARCHAR" />
    <result column="WEDNESDAY" property="wednesday" jdbcType="VARCHAR" />
    <result column="THURSDAY" property="thursday" jdbcType="VARCHAR" />
    <result column="FRIDAY" property="friday" jdbcType="VARCHAR" />
    <result column="SATURDAY" property="saturday" jdbcType="VARCHAR" />
    <result column="SUNDAY" property="sunday" jdbcType="VARCHAR" />
  </resultMap>
  
   <resultMap id="BaseResultMapPsOrg" type="com.addlove.service.goods.model.SkuYhPSOrgModel" >
    <result column="PROCODE" property="proCode" jdbcType="VARCHAR" />
    <result column="SERIALNO" property="serialNo" jdbcType="NUMERIC" />
    <result column="USORGCODE" property="usOrgCode" jdbcType="VARCHAR" />
    <result column="USORGNAME" property="usOrgName" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="BaseResultMapPsBody" type="com.addlove.service.goods.model.SkuYhPSBodyModel" >
    <result column="PROCODE" property="proCode" jdbcType="VARCHAR" />
    <result column="SERIALNO" property="serialNo" jdbcType="NUMERIC" />
    <result column="PLUID" jdbcType="NUMERIC" property="pluId" />
    <result column="PLUCODE" jdbcType="VARCHAR" property="pluCode" />
    <result column="PLUNAME" jdbcType="VARCHAR" property="pluName" />
    <result column="MINCOUNT" property="minCount" jdbcType="NUMERIC" />
    <result column="MAXCOUNT" property="maxCount" jdbcType="NUMERIC" />
    <result column="TIMES" property="times" jdbcType="NUMERIC" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="cursorMap" type="com.addlove.service.goods.model.OrdAdlYhPluCursorModel" >
      <result column="pluid" jdbcType="NUMERIC" property="pluId" />
      <result column="Plucode" jdbcType="VARCHAR" property="pluCode" />
      <result column="pluname" jdbcType="VARCHAR" property="pluName" />
      <result column="BarCode" jdbcType="VARCHAR" property="barCode" />
     <result column="Spec" jdbcType="VARCHAR" property="spec" />
     <result column="Unit" jdbcType="VARCHAR" property="unit" />
     <result column="Price" jdbcType="NUMERIC" property="price" />
     <result column="kccount" jdbcType="NUMERIC" property="kcCount" />
     <result column="mrjhcount" jdbcType="NUMERIC" property="mRJhCount" />
     <result column="packUnit" jdbcType="NUMERIC" property="packUnit" />
     <result column="packqty" jdbcType="NUMERIC" property="packQty" />
  </resultMap>
  
  <resultMap id="PacketMap" type="com.addlove.service.goods.model.SkuPluPacketModel" >
      <result column="PLUID" jdbcType="NUMERIC" property="pluId" />
      <result column="PACKUNIT" jdbcType="VARCHAR" property="packUnit" />
      <result column="PACKQTY" jdbcType="NUMERIC" property="packQty" />
  </resultMap>
  
  <resultMap id="AddressMap" type="com.addlove.service.goods.model.EtpAddressModel" >
      <result column="EtpCode" jdbcType="VARCHAR" property="etpCode" />
      <result column="Address" jdbcType="VARCHAR" property="address" />
  </resultMap>
  
  <sql id="Base_Column_List_Head">
    BILLNO, LRDATE, USERID, USERCODE, USERNAME, JZDATE, JZRID, JZRCODE, JZRNAME, JZTYPE, 
    RPTDATE, PRNTIMES, PRNDATE, TIMEMARK, YWTYPE, YWIOTYPE, ORGCODE, ORGNAME, DEPID, 
    DEPCODE, DEPNAME, ISURGENT, ZBORGCODE, ZBORGNAME, SDDATE, SHADDR, YHCOUNT, YWSTATUS, 
    DATASTATUS, YHTOTAL, REMARK, MODELCODE, YHBC
  </sql>
  
   <sql id="Base_Column_List_Body">
    BILLNO, SERIALNO, PLUID, PLUCODE, PLUNAME, EXPLUCODE, EXPLUNAME, BARCODE, SPEC, UNIT, 
    PACKUNIT, PACKQTY, PACKCOUNT, SGLCOUNT, YHCOUNT, QRCOUNT, PRICE, STOTAL, REMARK, KCCOUNT, MRJHCOUNT
  </sql>
  
  <!-- 要货列表 -->
  <select id="queryYhPage" resultMap="BaseResultMapHead">
    Select Distinct t.BILLNO,
                t.LRDATE,
                t.USERID,
                t.USERCODE,
                t.USERNAME,
                t.JZDATE,
                t.JZRID,
                t.JZRCODE,
                t.JZRNAME,
                t.YWTYPE,
                t.YWIOTYPE,
                t.ORGCODE,
                t.ORGNAME,
                t.DEPID,
                t.DEPCODE,
                t.DEPNAME,
                t.ISURGENT,
                t.ZBORGCODE,
                t.ZBORGNAME,
                t.SDDATE,
                t.SHADDR,
                t.YHCOUNT,
                t.YWSTATUS,
                t.DATASTATUS,
                t.YHTOTAL,
                t.REMARK,
                t.MODELCODE,
                t.YHBC
    From TORDCDADLYHHEAD t Where t.YWTYPE = '6205' and t.ISURGENT = '0'
    <if test="queryModel.billNo != '' and queryModel.billNo != null">
        and t.BILLNO LIKE CONCAT(#{queryModel.billNo,jdbcType=VARCHAR},'%')
    </if>
    <if test="queryModel.startDate != '' and queryModel.startDate != null">
        and t.LRDATE &gt;= to_date(#{queryModel.startDate,jdbcType=VARCHAR},'yyyy-MM-dd HH24:mi:ss')
    </if>
    <if test="queryModel.endDate != '' and queryModel.endDate != null">
        and t.LRDATE &lt;= to_date(#{queryModel.endDate,jdbcType=VARCHAR},'yyyy-MM-dd HH24:mi:ss')
    </if>
    <if test="queryModel.ywStatus != null and queryModel.ywStatus != '' ">
        and t.YWSTATUS = #{queryModel.ywStatus,jdbcType=VARCHAR}
    </if>
    <if test="queryModel.depId != null ">
        and t.DEPID = #{queryModel.depId,jdbcType=VARCHAR}
    </if>
    and t.ORGCODE = #{queryModel.orgCode,jdbcType=VARCHAR}
  </select>
  
  <!-- 插入要货主表 -->
  <insert id="insertYhHead">
    INSERT INTO TORDCDADLYHHEAD
    (
        BILLNO,
        LRDATE, 
        USERID, 
        USERCODE, 
        USERNAME,
        YWTYPE, 
        ORGCODE, 
        ORGNAME, 
        DEPID, 
        DEPCODE, 
        DEPNAME, 
        ZBORGCODE, 
        ZBORGNAME, 
        SDDATE, 
        SHADDR, 
        YHCOUNT, 
        YWSTATUS, 
        DATASTATUS, 
        YHTOTAL, 
        REMARK, 
        MODELCODE, 
        YHBC
    )
    VALUES
    (
        #{billNo,jdbcType=VARCHAR},
        to_date(#{lrDate,jdbcType=DATE},'yyyy-MM-dd HH24:mi:ss'),
        #{userId,jdbcType=NUMERIC},
        #{userCode,jdbcType=VARCHAR},
        #{userName,jdbcType=VARCHAR},
        #{ywType,jdbcType=VARCHAR},
        #{orgCode,jdbcType=VARCHAR},
        #{orgName,jdbcType=VARCHAR},
        #{depId,jdbcType=NUMERIC},
        #{depCode,jdbcType=VARCHAR},
        #{depName,jdbcType=VARCHAR},
        #{zbOrgCode,jdbcType=VARCHAR},
        #{zbOrgName,jdbcType=VARCHAR},
        #{sdDate,jdbcType=VARCHAR},
        #{shAddr,jdbcType=VARCHAR},
        #{yhCount,jdbcType=NUMERIC},
        #{ywStatus,jdbcType=VARCHAR},
        #{dataStatus,jdbcType=VARCHAR},
        #{yhTotal,jdbcType=NUMERIC},
        #{remark,jdbcType=VARCHAR},
        #{modelCode,jdbcType=VARCHAR},
        #{yhBc,jdbcType=VARCHAR}
    )
  </insert>
  
  <!-- 插入要货明细 -->
  <insert id="insertYhBodys">
    INSERT INTO TORDCDADLYHBODY
    (
        BILLNO, 
        SERIALNO, 
        PLUID, 
        PLUCODE, 
        PLUNAME, 
        EXPLUCODE, 
        BARCODE, 
        SPEC, 
        UNIT, 
        PACKUNIT, 
        PACKQTY,
        YHCOUNT, 
        QRCOUNT, 
        PRICE, 
        STOTAL, 
        REMARK, 
        KCCOUNT, 
        MRJHCOUNT
    )
    <foreach collection="bodys" item="body" separator="union all">
        SELECT
          #{body.billNo,jdbcType=VARCHAR},
          #{body.serialNo,jdbcType=NUMERIC},
          #{body.pluId,jdbcType=NUMERIC},
          #{body.pluCode,jdbcType=VARCHAR},
          #{body.pluName,jdbcType=VARCHAR},
          #{body.exPluCode,jdbcType=VARCHAR},
          #{body.barCode,jdbcType=VARCHAR},
          #{body.spec,jdbcType=VARCHAR},
          #{body.unit,jdbcType=VARCHAR},
          #{body.packUnit,jdbcType=VARCHAR},
          #{body.packQty,jdbcType=NUMERIC},
          #{body.yhCount,jdbcType=NUMERIC},
          #{body.qrCount,jdbcType=NUMERIC},
          #{body.price,jdbcType=NUMERIC},
          #{body.sTotal,jdbcType=NUMERIC},
          #{body.remark,jdbcType=VARCHAR},
          #{body.kcCount,jdbcType=NUMERIC},
          #{body.mRJhCount,jdbcType=NUMERIC}
        FROM DUAL
    </foreach>
  </insert>
  
  <!-- 通过单号获取要货主表 -->
  <select id="getYhHead" resultMap="BaseResultMapHead">
    Select Distinct t.BILLNO,
                t.LRDATE,
                t.USERID,
                t.USERCODE,
                t.USERNAME,
                t.JZDATE,
                t.JZRID,
                t.JZRCODE,
                t.JZRNAME,
                t.YWTYPE,
                t.YWIOTYPE,
                t.ORGCODE,
                t.ORGNAME,
                t.DEPID,
                t.DEPCODE,
                t.DEPNAME,
                t.ISURGENT,
                t.ZBORGCODE,
                t.ZBORGNAME,
                t.SDDATE,
                t.SHADDR,
                t.YHCOUNT,
                t.YWSTATUS,
                t.DATASTATUS,
                t.YHTOTAL,
                t.REMARK,
                t.MODELCODE,
                t.YHBC
    From TORDCDADLYHHEAD t Where t.BILLNO = #{billNo,jdbcType=VARCHAR}
  </select>
  
  <!-- 通过单号获取要货明细 -->
  <select id="getYhBodys" resultMap="BaseResultMapBody">
    Select Distinct t.BILLNO,
             t.SERIALNO, 
             t.PLUID, 
             t.PLUCODE, 
             t.PLUNAME, 
             t.EXPLUCODE, 
             t.EXPLUNAME, 
             t.BARCODE, 
             t.SPEC, 
             t.UNIT, 
             t.PACKUNIT, 
             t.PACKQTY, 
             t.PACKCOUNT, 
             t.SGLCOUNT, 
             t.YHCOUNT, 
             t.QRCOUNT, 
             t.PRICE, 
             t.STOTAL, 
             t.REMARK,
             t.KCCOUNT,
             t.MRJHCOUNT
     From TORDCDADLYHBODY t Where t.BILLNO = #{billNo,jdbcType=VARCHAR}
  </select>
  
  <!-- 删除要货主表 -->
  <delete id="delYhHead" parameterType="java.lang.String">
    DELETE FROM TORDCDADLYHHEAD WHERE BILLNO = #{billNo,jdbcType=VARCHAR}
  </delete>
  
  <!-- 删除要货明细 -->
  <delete id="delYhBodys" parameterType="java.lang.String">
    DELETE FROM TORDCDADLYHBODY WHERE BILLNO = #{billNo,jdbcType=VARCHAR}
  </delete>
  
  <!-- 获取组织下的模板 -->
  <select id="getTempletsByOrgCode" resultMap="BaseResultMapTemHead">
    select t1.modelcode,t1.modelname from tOrdYhModelOrg t,tOrdYhModelHead t1 where t.modelcode = t1.modelcode
    and t.orgcode = #{orgCode,jdbcType=VARCHAR}
  </select>
  
  <!-- 获取模板商品 -->
  <select id="getTempletSkus" resultMap="BaseResultMapTemBody">
    select t2.pluid,t2.plucode,t2.pluname,t2.barcode,t2.unit,t2.spec,t3.price
    from tOrdYhModelOrg t,tOrdYhModelHead t1,tOrdYhModelBody t2,TSKUPLU t3,TSKUPLUEX t4
    where t.modelcode = t1.modelcode and t1.modelcode = t2.modelcode
    and t2.pluid = t3.pluid and t3.PLUID = t4.PLUID
    and t.ORGCODE = t3.ORGCODE and t3.ORGCODE = t4.ORGCODE 
    and t4.IsSale = '1' and t4.depid = #{depId,jdbcType=NUMERIC}
    and t2.pluid = t3.pluid and t.orgcode = #{orgCode,jdbcType=VARCHAR} and t1.modelcode = #{modelCode,jdbcType=VARCHAR}
  </select>
  
  <!-- 获取要货周期的商品 -->
  <select id="getYhCycleSkus" resultMap="BaseResultMapTemCycle">
    select t.pluid,t.plucode,t.pluname,t.dhdays,t.monday,t.tuesday,t.wednesday,t.thursday,t.friday,t.saturday,t.sunday
    from tOrdYhCycle t where t.orgcode = #{orgCode,jdbcType=VARCHAR}
  </select>
  
  <!-- 获取要货参数商品（包括：最小、最大要货量及倍数） -->
  <select id="getYhPSSkus" resultMap="BaseResultMapPsBody">
    select t1.procode,t1.serialno,t1.pluid,t1.plucode,t1.pluname,t1.mincount,t1.maxcount,t1.times from tSkuYHParaSetOrg t,tSkuYHParaSetBody t1 
    where t.procode = t1.procode and t.usorgcode = #{orgCode,jdbcType=VARCHAR}
  </select>
  
  <!-- 获取包装数据 -->
  <select id="getPackets" resultMap="PacketMap">
    Select Distinct t.pluid,t.packunit,t.packqty
    From tSkuPluPacket t,TSKUPLU t1,TSKUPLUEX t2
    Where t1.ISACTIVE = '1' 
    And t.PLUID = t1.PLUID And t1.PLUID = t2.PLUID
    And t1.ORGCODE = t2.ORGCODE And t2.IsSale = '1'
    And t1.ORGCODE = #{orgCode,jdbcType=VARCHAR} and t2.depid = #{depId,jdbcType=NUMERIC}
  </select>
  
  <!-- 获取组织地址 -->
  <select id="getAddress" resultMap="AddressMap">
    select t.EtpCode,t.Address FROM vEtpAddress t where t.etpCode = #{etpCode,jdbcType=VARCHAR}
  </select>
  
  <!-- 获取商品的库存总数 -->
  <select id="getYhKcSum" resultType="java.util.HashMap">
   Select SUM(t.KYCOUNT) AS KCCOUNT,t.PLUID
   From VSTKKYCOUNT t where t.OrgCode = #{orgCode,jdbcType=VARCHAR}
   And t.PLUID IN 
   <foreach collection="list" item="item" separator="," open="(" close=")">
       #{item.pluId,jdbcType=NUMERIC}
   </foreach>
   GROUP BY t.PLUID
  </select>
  
  <!-- 获取明日到货数量 -->
  <select id="execMrCountsProcedure" statementType="CALLABLE" parameterType="java.util.Map" resultMap="cursorMap">
     {
       CALL sOrd_ModelYh_GetPlu
       (
         #{ps_OrgCode,mode=IN,jdbcType=VARCHAR}, #{ps_ModelCode,mode=IN,jdbcType=VARCHAR},
         #{ps_DepId,mode=IN,jdbcType=VARCHAR}, #{ps_Type,mode=IN,jdbcType=VARCHAR}, 
         #{pi_Result,mode=OUT,jdbcType=NUMERIC}, #{ps_Message,mode=OUT,jdbcType=VARCHAR},
         #{pc_Data,mode=OUT,jdbcType=CURSOR,javaType=ResultSet,resultMap=cursorMap}
       )
     }
  </select>
  
  <!-- 调用存储过程进行要货单据记账 -->
  <select id="execYhAccountProcedure" statementType="CALLABLE" parameterType="java.util.HashMap">
    <![CDATA[
     {
       CALL sOrd_CDADL_YhBillAcc
       (
         #{ps_BillNo,mode=IN,jdbcType=VARCHAR}, #{ps_YwType,mode=IN,jdbcType=VARCHAR}, #{pi_UserId,mode=IN,jdbcType=NUMERIC}, 
         #{ps_UserCode,mode=IN,jdbcType=VARCHAR}, #{ps_UserName,mode=IN,jdbcType=VARCHAR}, to_date(#{ps_Date,jdbcType=DATE},'yyyy-MM-dd HH24:mi:ss'), 
         #{pi_Result,mode=OUT,jdbcType=NUMERIC}, #{ps_Message,mode=OUT,jdbcType=VARCHAR}
       )
     }
    ]]>
  </select>
</mapper>